<div class="container">
  <h2 class="text-center">üìã Liste des Activit√©s</h2>

  <table class="table table-bordered text-center" *ngIf="activites.length > 0">
    <thead class="table-dark">
      <tr>
        <th>Nom</th>
        <th>Description</th>
        <th>Type</th>
        <th>Prix</th>
        <th>Dur√©e</th>
        <th>Emplacement</th>
        <th>Disponible</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let activite of activites">
        <td>{{ activite.nom }}</td>
        <td>{{ activite.description }}</td>
        <td>{{ activite.type }}</td>
        <td>{{ activite.prix }} DH</td>
        <td>{{ activite.duree }} min</td>
        <td>{{ activite.emplacement }}</td>
        <td>{{ activite.estDisponible ? '‚úÖ Oui' : '‚ùå Non' }}</td>
        <td>
          <button class="btn btn-warning btn-sm" (click)="startEdit(activite)">Modifier</button>
          <button class="btn btn-danger btn-sm" (click)="deleteActivite(activite.id!)">Supprimer</button>
        </td>
      </tr>
    </tbody>
  </table>

  <h2 class="text-center">‚ûï {{ editingActivite ? 'Modifier' : 'Ajouter' }} une Activit√©</h2>

  <form (ngSubmit)="addOrUpdateActivite()">
    <input type="text" placeholder="Nom" [(ngModel)]="formActivite.nom" name="nom" required>
    <input type="text" placeholder="Description" [(ngModel)]="formActivite.description" name="description" required>
    <input type="text" placeholder="Type" [(ngModel)]="formActivite.type" name="type" required>
    <input type="number" placeholder="Prix" [(ngModel)]="formActivite.prix" name="prix" required>
    <input type="number" placeholder="Dur√©e" [(ngModel)]="formActivite.duree" name="duree" required>
    <input type="text" placeholder="Emplacement" [(ngModel)]="formActivite.emplacement" name="emplacement" required>
    <input type="datetime-local" placeholder="Date D√©but" [(ngModel)]="formActivite.dateDebut" name="dateDebut" required>
    <input type="datetime-local" placeholder="Date Fin" [(ngModel)]="formActivite.dateFin" name="dateFin" required>
    <input type="text" placeholder="Coordonn√©es Contact" [(ngModel)]="formActivite.coordonneesContact" name="coordonneesContact" required>

    <label>Destination :</label>
    <select [(ngModel)]="formActivite.destinationId" name="destinationId">
      <option *ngFor="let dest of destinations" [value]="dest.id">{{ dest.nom }}</option>
    </select>
    
    <button class="btn btn-primary">{{ editingActivite ? 'Mettre √† jour' : 'Ajouter' }}</button>
    <button type="button" class="btn btn-secondary" (click)="resetForm()">Annuler</button>
  </form>
</div>
